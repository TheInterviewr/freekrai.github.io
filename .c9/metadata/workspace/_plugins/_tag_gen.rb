{"filter":false,"title":"_tag_gen.rb","tooltip":"/_plugins/_tag_gen.rb","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":13}},"text":"module Jekyll"},{"action":"insertText","range":{"start":{"row":0,"column":13},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":32,"column":0}},"lines":["  class TagIndex < Page","    def initialize(site, base, dir, tag)","      @site = site","      @base = base","      @dir = dir","      @name = 'index.html'","      self.process(@name)","      self.read_yaml(File.join(base, '_layouts'), 'tag_index.html')","      self.data['tag'] = tag","      tag_title_prefix = site.config['tag_title_prefix'] || 'Posts Tagged &ldquo;'","      tag_title_suffix = site.config['tag_title_suffix'] || '&rdquo;'","      self.data['title'] = \"#{tag_title_prefix}#{tag}#{tag_title_suffix}\"","    end","  end","  class TagGenerator < Generator","    safe true","    def generate(site)","      if site.layouts.key? 'tag_index'","        dir = site.config['tag_dir'] || 'tag'","        site.tags.keys.each do |tag|","          write_tag_index(site, File.join(dir, tag), tag)","        end","      end","    end","    def write_tag_index(site, dir, tag)","      index = TagIndex.new(site, site.source, dir, tag)","      index.render(site.layouts, site.site_payload)","      index.write(site.dest)","      site.pages << index","    end","  end"]},{"action":"insertText","range":{"start":{"row":32,"column":0},"end":{"row":32,"column":6}},"text":"  \tend"}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":10,"column":82},"end":{"row":10,"column":82},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1415247421000,"hash":"9abc25f0dffdd210ff7827007b1271abb7612fca"}